abcs = ['a', 'b', 'c']
import org.rookout.files.Utilities
pipeline {
    agent none
    stages {
        stage('thing'){
                        githubWrapper.clone(repo: 'deployment-examples', branchToClone: 'adding-jenkins-test') {
                tests = Utilities.getAllDirThatMatchFile(this, 'deployment-examples','jenkins.json')
            }
        }
        stage('Build') {
            agent any
            steps {
                step
            println(":>>>>>>>>>>>>")
            echo ">>>>>>>>>>"
            jobDsl(targets: '.jenkins/generate_tests.groovy',
                removedJobAction: 'DELETE',
                removedViewAction: 'DELETE',
                lookupStrategy: 'SEED_JOB',
                additionalParameters: [jobName: 'java-gradle', realpwd: pwd()]
                )
            }
        }
    }
}


def echo_all(list) {
    for (int i = 0; i < list.size(); i++) {
                sh "echo Hello ${list[i]}"
                jobDsl(targets: '.jenkins/generate_tests.groovy',
                removedJobAction: 'DELETE',
                removedViewAction: 'DELETE',
                lookupStrategy: 'SEED_JOB',
                additionalParameters: [jobName: 'java-gradle' , realpwd: pwd(), item: i]
                )
    }
    println("<<<<<<<finish")
}